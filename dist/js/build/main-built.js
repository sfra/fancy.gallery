!function(){"use strict";function e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}define("stateSingleton",[],function(){return{image:{hidden:!1},animation:{isLasting:!1},order:{name:"snail",direction:"normal",shuffled:!1}}});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();define("classes/ImagesSetOrder",[],function(){var r=function(){function e(t,r){n(this,e),this.x=t,this.y=r,this.order=[],this.basicOrder=[]}return i(e,[{key:"getOrder",value:function(){return this.order}},{key:"setReverseOrder",value:function(){return this.order.reverse()}},{key:"saveOrder",value:function(){this.basicOrder=this.order}},{key:"shuffle",value:function(){this.saveOrder();var e=this.order.slice(0,Math.floor(this.order.length/2)+this.order.length%2),t=this.order.slice().reverse().slice(0,Math.floor(this.order.length/2)+this.order.length%2);this.order=[];for(var n=0;n<e.length;n++)this.order.push(e[n]),this.order.push(t[n])}}]),e}(),o=function(r){function i(t,r){n(this,i);for(var o=e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,r)),s=[1,0],a=0,u=0,c=0,d=[];o.order.length<o.x*o.y;)switch(void 0===d[u]&&(d[u]=[]),a+=1,s.join()){case"1,0":u>=o.x||void 0!==d[u][c]?(u-=1,c+=1,s=[0,1]):(o.order.push([u,c]),d[u][c]=!0,u+=1);break;case"0,1":c>=r||d[u][c]?(c-=1,u-=1,s=[-1,0]):(o.order.push([u,c]),d[u][c]=!0,c+=1);break;case"-1,0":u<0||d[u][c]?(u+=1,c-=1,s=[0,-1]):(o.order.push([u,c]),d[u][c]=!0,u-=1);break;case"0,-1":c<0||d[u][c]?(c+=1,u+=1,s=[1,0]):(o.order.push([u,c]),d[u][c]=!0,c-=1)}return o}return t(i,r),i}(r),s=function(r){function i(t,r){n(this,i);for(var o=e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,r)),s=0;s<o.x;s++){if(s%2==0)for(var a=0;a<o.y;a++)o.order.push([s,a]);if(s%2==1)for(var u=o.y-1;u>=0;u--)o.order.push([s,u])}return o.basicOrder=o.order,o}return t(i,r),i}(r),a=function(r){function i(t,r){n(this,i);for(var o=e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,r)),s=0;s<o.y;s++){if(s%2==0)for(var a=0;a<o.x;a++)o.order.push([a,s]);if(s%2==1)for(var u=o.x-1;u>=0;u--)o.order.push([u,s])}return o}return t(i,r),i}(r),u=function(r){function i(t,r){n(this,i);for(var o=e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,r)),s=0;s<o.y+o.x-1;s++)for(var a=0;a<o.x;a++)for(var u=0;u<o.y;u++)u+a===s&&o.order.push([a,u]);return o}return t(i,r),i}(r),c=function(r){function i(t,r){n(this,i);for(var o=e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,r)),s=0;s<o.x+o.y-1;s++)for(var a=0;a<o.y;a++)for(var u=0;u<o.x;u++)u+a===s&&o.order.push([a,u]);return o}return t(i,r),i}(r),d=function(r){function i(t,r){n(this,i);for(var o=e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,r)),s=0;s<o.x;s++)for(var a=s%2;a<o.y;a+=2)o.order.push([s,a]);for(var u=0;u<o.x;u++)for(var c=(u+1)%2;c<o.y;c+=2)o.order.push([u,c]);return o}return t(i,r),i}(r),l=function(r){function i(t,r){n(this,i);for(var o=e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,r)),s=0;s<o.x;s++)for(var a=s%3;a<o.y;a+=3)o.order.push([s,a]);for(var u=0;u<o.x;u++)for(var c=(u+1)%3;c<o.y;c+=3)o.order.push([u,c]);for(var d=0;d<o.x;d++)for(var l=(d+2)%3;l<o.y;l+=3)o.order.push([d,l]);return o}return t(i,r),i}(r),f=function(){function e(t,r,i,o){n(this,e),this.x=t,this.y=r,this.order=i,this.shuffled=o}return i(e,[{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;switch(this.order){case"snail":t=new o(this.x,this.y);break;case"snake":t=new s(this.x,this.y);break;case"snake2":t=new a(this.x,this.y);case"bee":t=new u(this.x,this.y);break;case"bee2":t=new c(this.x,this.y);break;case"chess":t=new d(this.x,this.y);break;case"chess3d":t=new l(this.x,this.y)}return e&&(this.shuffled=!0,t.shuffle()),t}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.order=e,t&&(this.shuffled=t)}}]),e}();return{ImagesSetIterator:o,ImagesSetIteratorFactory:f}}),define("ImagesSet",["classes/ImagesSetOrder","stateSingleton"],function(e,t){function n(r,i,o,s){var a=this,u=r,c=new e.ImagesSetIteratorFactory(n.tile.xdim,n.tile.ydim,t.order.name),d=null,l=null,f=void 0,h=!1,g="hide",m=void 0,v=void 0,p=15,y=[],b=[],x=[],w=[];this.setSequence=function(e){if(c.set(e.name),d=c.get(t.order.shuffled||e.shuffled),l="reverse"===t.order.direction||"reverse"===e.direction?d.setReverseOrder():d.getOrder(),void 0!==o)for(var r=0,a=o.length;r<a;r++)y.push(o[r]);if(void 0!==s)for(var u=0,f=s.length;u<f;u++)b.push(s[u]);else for(var h=document.getElementById(i),g=h.children,m=0,v=n.tile.ydim;m<v;m++){g[m].children,b.push([]);for(var p=0,x=n.tile.xdim;p<x;p++)b[m][p]=g[m].children[p]}},this.setSequence(t.order),void 0!==i&&(f=i),this.getState=function(){return u},this.setElements=function(){var e=document.getElementById(f),t=e.children;m=t.length,v=t[0].children.length+0;for(var n=[],r=0;r<m;r++){for(var i=0;i<v;i++)n.push(t[r].children[i]);x.push(n),n=[]}},this.setSpeed=function(e){p=e},this.copyElements=function(){for(var e=0,t=y.length;e<t;e++)w[e]=y[e]},this.getElements=function(){return x},this.setElementsX=function(){var e=document.getElementById(f);y=function(){for(var t=(e.children,[]),n=e.children.length,r=e.children[0].children.length,i=0;i<n;i++)for(var o=0;o<r;o++)t.push(e.children[i].children[o]);return t}()},this.toggleHideShow=function(e){for(var t=0,n=y.length;t<n;t++)!function(t,n){!function(t){var r=t;setTimeout(function(){h?y[r].classList.remove(g):y[r].classList.add(g),t===n-1&&(h=!h,e.bind(a)())},5*r)}(t)}(t,n)},this.toggleShowHideFun=function(e,t){a.copyElements();for(var r=0,i=n.tile.xdim*n.tile.ydim;r<i;r++)!function(t,n){!function(t){var r=t;setTimeout(function(){var i=l[n-1-r];h?b[i[1]][i[0]].classList.remove(g):b[i[1]][i[0]].classList.add(g),t===n-1&&(h=!h,e.bind(a)())},r*p)}(t)}(r,i)},this.toggleHideShowRandom=function(e){a.copyElements();for(var t=0,n=y.length;t<n;t++)!function(t,n){!function(t){var r=t;setTimeout(function(){var r=parseInt(Math.random()*w.length);h?w.splice(r,1)[0].classList.remove(g):w.splice(r,1)[0].classList.add(g),t===n-1&&(h=!h,e.bind(a)())},25*r)}(t)}(t,n)},this.getDomElement=function(){return document.getElementById(f)},this.setHidden=function(e){h=e},this.setEffect=function(e){g=e},this.removeClass=function(e){for(var t=document.getElementById(f),n=t.children.length,r=t.children[0].children.length,i=0;i<n;i++)for(var o=0;o<r;o++)t.children[i].children[o].classList.remove(e)}}return{ImagesSet:n}}),define("libs/__ajax",[],function(){function e(e,t){var n=void 0,r={},i=e,o="",s=function(e){o="";for(var t in e)e.hasOwnProperty(t)&&(o+=t+"="+e[t]+"&");o=o.substr(0,o.length-1)};r.method=void 0===t?"GET":t.method||"POST",void 0!==t&&void 0!==t.parameters&&s(t.parameters),n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var a=null;return{setUrl:function(e){i=e},setParameters:s,addParameters:function(e){for(var t in e)e.hasOwnProperty(t)&&(o+="&"+t+"="+e[t])},getParameters:function(){return o},setMethod:function(e){r.method=e},get:function(){return a=new Promise(function(e,t){n.onreadystatechange=function(){4===n.readyState&&(200===n.status?e(n.responseText):t(400===n.status?"[400]":"[ne 200]"))},n.open(r.method,i,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(o)})}}}return e}),define("plugins/order0",[],function(){return function(e,t,n){return!n%2&&r({x:1},"x",t),[parseInt(n/e),n%e]}}),define("classes/Sequence",[],function(){function e(e,t,r,i,o){e.toggleHideShowRandom(function(){setTimeout(function(){n(t,r,i,o)},1e3)})}function t(e,t,r,i,o,s){e.toggleShowHideFun(function(){setTimeout(function(){n(t,r,i,s)},1e3)},o)}function n(e,t,n,r){for(var i=0,o=r,s=e.length;o<s;o++)e[o].getDomElement().style.zIndex=10*-i++,e[o].setHidden(!1),e[o].removeClass(t);for(o=0;o<r;o++)e[o].getDomElement().style.zIndex=10*-i++,e[o].setHidden(!1),e[o].removeClass(t);n.animation.isLasting=!1}return{random:e,ordered:t}}),define("helpers/dom",[],function(){function e(e){var t=i.offsetWidth,n=e.tile.w*e.tile.xdim,r=e.tile.h*e.tile.ydim,o=t/n,s=r/n*t;i.style.height=s+"px";for(var a=0,u=e.numberOfImgs;a<u;a++)for(var c=0,d=e.tile.ydim;c<d;c++)for(var l=0,f=e.tile.xdim;l<f;l++)i.children[a].children[c].children[l].style.backgroundPosition="-"+o*e.tile.w*l+"px -"+o*e.tile.h*c+"px "}function t(e,t){for(var n=0,r=i.children.length-1;n<r;n++)n!==e&&n!==t&&(i.children[n].style.zIndex=0);return i.children[e].style.zIndex=20,i.children[t].style.zIndex=10,!0}function n(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function r(e){for(var t=0,n=o.length;t<n;t++)t===e?o[t].classList.add("active"):o[t].classList.remove("active")}var i=document.getElementById("fancy-gallery-gal-wrapper"),o=document.getElementById("fancy-gallery-slides-nav").children;return{adjustTiles:e,reindexImgWrappers:t,insertAfter:n,setButton:r}}),define("run",["stateSingleton","ImagesSet","libs/__ajax","plugins/order0","classes/Sequence","helpers/dom"],function(e,t,n,r,i,o){function s(n){var s=this,h=n.numberOfImgs,g=n.effect;c=n.sequence;for(var m=0;m<h;m++)!function(e){void 0!==n.images&&(l[e]=n.images[e]),f.appendChild(function(t){var r=document.createElement("div");r.classList.add("fancy-gallery-slide-button");var i=document.createElement("p");i.setAttribute("x-data-nr",e);var o=new Image(n.tile.xdim*n.tile.w/7,n.tile.ydim*n.tile.h/7);return o.src="images/img"+t+".jpg",i.appendChild(o),i.classList.add("fancy-gallery-clearfix"),r.appendChild(i),r}(e))}(m);o.adjustTiles(n),window.onresize=function(){o.adjustTiles(n)},o.setButton(0),t.ImagesSet.tile=n.tile;for(var m=0;m<h;m++)d.push(new t.ImagesSet(!1,"image-wrapper"+m)),d[m].setSpeed(n.speed);d[0].setElements();for(var v=(d[0].getDomElement().parentNode,0),p=d.length;v<p;v++)d[v].setElementsX(),d[v].setEffect(g);document.getElementById("fancy-gallery-switch-right").addEventListener("click",function(t){if(!e.animation.isLasting){var r=n.sequence,c=sessionStorage.getItem("fancy-gallery-sequence");void 0!==c&&null!==c&&(r=c),e.animation.isLasting=!0,l.length>0&&document.getElementById("css-plugin").setAttribute("href","css/main.css.php?plugin="+l[a].plugin);var f=d[a],m=a;a=(a+1)%h,o.setButton(a),u=new Promise(function(e,t){o.reindexImgWrappers(m,a)&&e()}),u.then(function(){"random"===r?i.random.bind(s,f,d,g,e,a)():"ordered"===r&&i.ordered.bind(s,f,d,g,e,[],a)()})}}),document.getElementById("switch-left").addEventListener("click",function(t){if(!e.animation.isLasting){var f=sessionStorage.getItem("fancy-gallery-sequence");c=void 0!==f&&null!==f?f:n.sequence,e.animation.isLasting=!0,l.length>0&&document.getElementById("css-plugin").setAttribute("href","css/main.css.php?plugin="+l[a].plugin);var h=d[a],m=a;a>0?a-=1:a=d.length-1,u=new Promise(function(e,t){o.reindexImgWrappers(m,a)&&e()}),o.setButton(a),u.then(function(){"random"===c?i.random.bind(s,h,d,g,e,a)():"ordered"===c&&i.ordered.bind(s,h,d,g,e,r,a)()},function(e){})}}),f.addEventListener("click",function(t){var f=t.target;if("P"===f.tagName&&!e.animation.isLasting){l.length>0&&document.getElementById("css-plugin").setAttribute("href","css/main.css.php?plugin="+l[a].plugin);var h=sessionStorage.getItem("fancy-gallery-sequence");c=void 0!==h&&null!==h?h:n.sequence,e.animation.isLasting=!0;var m=a;a=parseInt(f.getAttribute("x-data-nr"),10),o.setButton(a),u=new Promise(function(e,t){o.reindexImgWrappers(m,a)&&e()}),u.then(function(){"random"===c?i.random.bind(s,d[m],d,g,e,f.getAttribute("x-data-nr"))():"ordered"===c&&i.ordered.bind(s,d[m],d,g,e,r,f.getAttribute("x-data-nr"))()},function(){})}},!1)}var a=0,u=null,c=null,d=[],l=[],f=document.getElementById("fancy-gallery-slides-nav");return new Promise(function(e,t){Object(n("config.json",{method:"GET"})).get().then(function(t){e(JSON.parse(t))},function(e){t(e)})}).then(s),{}}),requirejs.config({baseUrl:"js",paths:{ImagesSet:["classes/ImagesSet"],Iteraror:["classes/Iterator"],Sequence:["classes/Sequence"]}}),requirejs.onError=function(e){throw console.warn(e),e},require(["run","libs/__ajax","ImagesSet"],function(e){}),define("main",function(){})}();